{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\E_Commerce-App\\\\client\\\\src\\\\components\\\\Auth\\\\SignIn\\\\SignIn.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { FormControl, Input, InputLabel, Button, Grid, Typography, formatMs } from \"@material-ui/core\";\nimport isEmail from \"validator/lib/isEmail\";\nimport isEmpty from \"validator/lib/isEmpty\";\nimport useStyles from \"./styles\";\nimport { showSuccessMsg } from \"../../../helper/showSuccessMsg\";\nimport { showErrorMsg } from \"../../../helper/showErrorMsg\";\nimport { Loading } from \"../../../helper/Loading\";\nimport { signIn } from \"../../../api/auth.js\";\nimport { useHistory } from \"react-router-dom\";\nimport { isAuthenticated, setAuthentication } from \"../../../helper/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SignIn = () => {\n  _s();\n\n  const history = useHistory();\n  const classes = useStyles();\n  useEffect(() => {}, []);\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    errorMsg: false,\n    loading: false,\n    redirectToDashboard: false\n  });\n  const {\n    email,\n    password,\n    errorMsg,\n    loading\n  } = formData;\n\n  const handlechange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value,\n      errorMsg: ''\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (isEmpty(email) || isEmpty(password)) {\n      setFormData({ ...formData,\n        errorMsg: \"All Fields are Required\"\n      });\n    } else if (!isEmail(email)) {\n      setFormData({ ...formData,\n        errorMsg: \"Invalid Email\"\n      });\n    } else {\n      const {\n        email,\n        password\n      } = formData;\n      const data = {\n        email,\n        password\n      };\n      setFormData({ ...formData,\n        loading: false\n      });\n      signIn(data).then(response => {\n        setAuthentication(response.data.token, response.data.user);\n\n        if (isAuthenticated() && isAuthenticated().role == 1) {\n          history.push(\"/admin/dashboard\");\n        } else if (isAuthenticated() && isAuthenticated().role == 0) {\n          history.push(\"/user/dashboard\");\n        }\n      }).catch(err => {\n        console.log(\"Signin api Function Error\", err);\n      });\n    }\n  }; //   signUp(data)\n  //     .then(response => {\n  //       console.log(response);\n  //       setFormData({\n  //         username: \"\",\n  //         email: \"\",\n  //         password: \"\",\n  //         password2: \"\",\n  //         successMsg: response.data.successMessage,\n  //         loading: false,\n  //         errorMsg,\n  //       })\n  //     })\n  //     .catch(err => {\n  //       console.log(\"Axxios Sign Up error\", err, err.response);\n  //       setFormData({ ...formData, loading: false, errorMsg: err.response.data.errorMessage });\n  //     })\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"This is SignIn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.parent,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.loading,\n          children: Loading()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 23\n        }, this), errorMsg && showErrorMsg(errorMsg), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"Sign In \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          required: true,\n          fullWidth: true,\n          margin: \"normal\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            htmlFor: \"email\",\n            children: \"e-mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"email\",\n            value: email,\n            type: \"email\",\n            autoComplete: \"email\",\n            onChange: handlechange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          required: true,\n          fullWidth: true,\n          margin: \"normal\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            htmlFor: \"password\",\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"password\",\n            value: password,\n            type: \"password\",\n            onChange: handlechange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"outlined\",\n          color: \"primary\",\n          type: \"submit\",\n          onClick: handleSubmit,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [\"Don't have an Account? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signup\",\n            children: \"SignUp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: JSON.stringify(formData)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SignIn, \"tobkG5KlLq3evigAv+7isRUCDmg=\", false, function () {\n  return [useHistory, useStyles];\n});\n\n_c = SignIn;\nexport default SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["C:/projects/E_Commerce-App/client/src/components/Auth/SignIn/SignIn.js"],"names":["React","useState","useEffect","Link","CssBaseline","FormControl","Input","InputLabel","Button","Grid","Typography","formatMs","isEmail","isEmpty","useStyles","showSuccessMsg","showErrorMsg","Loading","signIn","useHistory","isAuthenticated","setAuthentication","SignIn","history","classes","formData","setFormData","email","password","errorMsg","loading","redirectToDashboard","handlechange","e","target","name","value","handleSubmit","preventDefault","data","then","response","token","user","role","push","catch","err","console","log","parent","form","textAlign","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState,useEffect} from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { FormControl, Input, InputLabel, Button, Grid, Typography, formatMs } from \"@material-ui/core\";\r\nimport isEmail from \"validator/lib/isEmail\"\r\nimport isEmpty from \"validator/lib/isEmpty\"\r\nimport useStyles from \"./styles\"\r\nimport { showSuccessMsg } from \"../../../helper/showSuccessMsg\"\r\nimport { showErrorMsg } from \"../../../helper/showErrorMsg\"\r\nimport { Loading } from \"../../../helper/Loading\"\r\nimport { signIn } from \"../../../api/auth.js\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { isAuthenticated, setAuthentication } from \"../../../helper/auth\"\r\nconst SignIn = () => {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n\r\n  useEffect(() => {\r\n\r\n  }, [])\r\n\r\n\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    errorMsg: false,\r\n    loading: false,\r\n    redirectToDashboard: false,\r\n  })\r\n  const {\r\n    email,\r\n    password,\r\n    errorMsg,\r\n    loading\r\n  } = formData;\r\n\r\n\r\n\r\n  const handlechange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value, errorMsg: '' })\r\n  }\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isEmpty(email) || isEmpty(password)) {\r\n      setFormData({\r\n        ...formData, errorMsg: \"All Fields are Required\"\r\n      })\r\n    } else if (!isEmail(email)) {\r\n      setFormData({\r\n        ...formData, errorMsg: \"Invalid Email\"\r\n      })\r\n    }\r\n    else {\r\n      const { email, password } = formData;\r\n      const data = { email, password };\r\n      setFormData({\r\n        ...formData, loading: false\r\n      })\r\n      signIn(data)\r\n        .then(response => {\r\n          setAuthentication(response.data.token, response.data.user)\r\n\r\n          if (isAuthenticated() && isAuthenticated().role == 1) {\r\n            history.push(\"/admin/dashboard\");\r\n          }\r\n          else if (isAuthenticated() && isAuthenticated().role == 0) {\r\n            history.push(\"/user/dashboard\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(\"Signin api Function Error\", err)\r\n        })\r\n    }\r\n  }\r\n  //   signUp(data)\r\n  //     .then(response => {\r\n  //       console.log(response);\r\n  //       setFormData({\r\n  //         username: \"\",\r\n  //         email: \"\",\r\n  //         password: \"\",\r\n  //         password2: \"\",\r\n  //         successMsg: response.data.successMessage,\r\n  //         loading: false,\r\n  //         errorMsg,\r\n  //       })\r\n  //     })\r\n  //     .catch(err => {\r\n  //       console.log(\"Axxios Sign Up error\", err, err.response);\r\n  //       setFormData({ ...formData, loading: false, errorMsg: err.response.data.errorMessage });\r\n  //     })\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <h1>This is SignIn</h1>\r\n      <CssBaseline />\r\n      <div className={classes.parent}>\r\n\r\n        <form className={classes.form}>\r\n          {loading && <div className={classes.loading}>{Loading()}</div>}\r\n          {errorMsg && showErrorMsg(errorMsg)}\r\n          <Typography variant=\"h5\" style={{ textAlign: \"center\" }}>Sign In </Typography>\r\n          <FormControl required fullWidth margin=\"normal\">\r\n            <InputLabel htmlFor=\"email\">\r\n              e-mail\r\n                </InputLabel>\r\n            <Input\r\n              name=\"email\"\r\n              value={email}\r\n              type=\"email\"\r\n              autoComplete=\"email\"\r\n              onChange={handlechange}\r\n            />\r\n          </FormControl>\r\n          <FormControl required fullWidth margin=\"normal\">\r\n            <InputLabel htmlFor=\"password\" >\r\n              password\r\n                </InputLabel>\r\n            <Input\r\n              name=\"password\"\r\n              value={password}\r\n              type=\"password\"\r\n              onChange={handlechange}\r\n            />\r\n          </FormControl>\r\n          <Button\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            onClick={handleSubmit}\r\n          >\r\n            Login\r\n              </Button>\r\n          <p style={{ textAlign: \"center\", }}>Don't have an Account? <Link to=\"/signup\">SignUp</Link></p>\r\n        </form>\r\n      </div>\r\n\r\n      <p>{JSON.stringify(formData)}</p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SignIn\r\n"]},"metadata":{},"sourceType":"module"}