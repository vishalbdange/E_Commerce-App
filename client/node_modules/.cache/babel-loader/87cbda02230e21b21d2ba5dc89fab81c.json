{"ast":null,"code":"import axios from 'axios';\nimport { START_LOADING, STOP_LOADING } from '../constants/loadingConstants';\nimport { SHOW_ERROR_MESSAGE, SHOW_SUCCESS_MESSAGE } from '../constants/messageConstants';\nimport { CREATE_PRODUCT, GET_PRODUCTS, GET_PRODUCT, DELETE_PRODUCT } from '../constants/productConstants';\nexport const createProduct = formData => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const response = await axios.post('/api/product', formData);\n    dispatch({\n      type: STOP_LOADING\n    });\n    dispatch({\n      type: SHOW_SUCCESS_MESSAGE,\n      payload: response.data.successMessage\n    });\n    console.log(response.data.product);\n    dispatch({\n      type: CREATE_PRODUCT,\n      payload: response.data.product\n    });\n  } catch (err) {\n    dispatch({\n      type: STOP_LOADING\n    });\n    err && dispatch({\n      type: SHOW_ERROR_MESSAGE,\n      payload: err.message\n    });\n  }\n};\nexport const getProducts = () => async dispatch => {\n  console.log(\"In GET PRODUCTSS\t\");\n\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const response = await axios.get('/api/product');\n    dispatch({\n      type: STOP_LOADING\n    });\n    dispatch({\n      type: GET_PRODUCTS,\n      payload: response.data.products\n    });\n  } catch (err) {\n    dispatch({\n      type: STOP_LOADING\n    }); // err && \n    // \tdispatch({\n    // \t\ttype: SHOW_ERROR_MESSAGE,\n    // \t\tpayload: err.response.data.errorMessage,\n    // \t});\n  }\n};\nexport const getProduct = productId => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    console.log(\"Before REq\");\n    const response = await axios.get(`/api/product/${productId}`);\n    console.log(\"After REq\");\n    dispatch({\n      type: STOP_LOADING\n    });\n    dispatch({\n      type: GET_PRODUCT,\n      payload: response.data\n    });\n  } catch (err) {\n    console.log('getProducts api error: ', err.message);\n    dispatch({\n      type: STOP_LOADING\n    });\n    dispatch({\n      type: SHOW_ERROR_MESSAGE,\n      // payload: err.response.data.errorMessage,\n      payload: err.message\n    });\n  }\n};\nexport const deleteProduct = productId => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    const response = await axios.delete(`/api/product/${productId}`);\n    console.log(response.data);\n    dispatch({\n      type: STOP_LOADING\n    });\n    dispatch({\n      type: DELETE_PRODUCT,\n      payload: response.data\n    });\n  } catch (err) {\n    console.log('deleteProduct api error: ', err);\n    dispatch({\n      type: STOP_LOADING\n    });\n    dispatch({\n      type: SHOW_ERROR_MESSAGE,\n      payload: err.response.data.errorMessage\n    });\n  }\n};\nexport const editProduct = productId => async dispatch => {\n  try {\n    dispatch({\n      type: START_LOADING\n    });\n    console.log(\"EDIT BEFORE\");\n    dispatch({\n      type: STOP_LOADING\n    });\n    dispatch({\n      type: DELETE_PRODUCT,\n      payload: response.data\n    });\n  } catch (err) {\n    console.log('deleteProduct api error: ', err);\n    dispatch({\n      type: STOP_LOADING\n    });\n    dispatch({\n      type: SHOW_ERROR_MESSAGE,\n      payload: err.response.data.errorMessage\n    });\n  }\n};","map":{"version":3,"sources":["C:/projects/E_Commerce-App/client/src/redux/actions/productActions.js"],"names":["axios","START_LOADING","STOP_LOADING","SHOW_ERROR_MESSAGE","SHOW_SUCCESS_MESSAGE","CREATE_PRODUCT","GET_PRODUCTS","GET_PRODUCT","DELETE_PRODUCT","createProduct","formData","dispatch","type","response","post","payload","data","successMessage","console","log","product","err","message","getProducts","get","products","getProduct","productId","deleteProduct","delete","errorMessage","editProduct"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,YAAxB,QAA4C,+BAA5C;AACA,SACCC,kBADD,EAECC,oBAFD,QAGO,+BAHP;AAIA,SACCC,cADD,EAECC,YAFD,EAGCC,WAHD,EAICC,cAJD,QAKO,+BALP;AAOA,OAAO,MAAMC,aAAa,GAAGC,QAAQ,IAAI,MAAMC,QAAN,IAAkB;AAC1D,MAAI;AACHA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEX;AAAR,KAAD,CAAR;AACA,UAAMY,QAAQ,GAAG,MAAMb,KAAK,CAACc,IAAN,CAAW,cAAX,EAA2BJ,QAA3B,CAAvB;AACAC,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAS,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAER,oBADE;AAERW,MAAAA,OAAO,EAAEF,QAAQ,CAACG,IAAT,CAAcC;AAFf,KAAD,CAAR;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACG,IAAT,CAAcI,OAA1B;AACAT,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAEP,cADE;AAERU,MAAAA,OAAO,EAAEF,QAAQ,CAACG,IAAT,CAAcI;AAFf,KAAD,CAAR;AAIA,GAbD,CAaE,OAAOC,GAAP,EAAY;AACbV,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAmB,IAAAA,GAAG,IACFV,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAET,kBADE;AAERY,MAAAA,OAAO,EAAEM,GAAG,CAACC;AAFL,KAAD,CADT;AAKA;AACD,CAtBM;AAwBP,OAAO,MAAMC,WAAW,GAAG,MAAM,MAAMZ,QAAN,IAAkB;AAClDO,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACA,MAAI;AACHR,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEX;AAAR,KAAD,CAAR;AACA,UAAMY,QAAQ,GAAG,MAAMb,KAAK,CAACwB,GAAN,CAAU,cAAV,CAAvB;AACAb,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAS,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAEN,YADE;AAERS,MAAAA,OAAO,EAAEF,QAAQ,CAACG,IAAT,CAAcS;AAFf,KAAD,CAAR;AAKA,GATD,CASE,OAAOJ,GAAP,EAAY;AAEbV,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR,CAFa,CAGb;AACA;AACA;AACA;AACA;AACA;AACD,CApBM;AAsBP,OAAO,MAAMwB,UAAU,GAAGC,SAAS,IAAI,MAAMhB,QAAN,IAAkB;AACxD,MAAI;AACHA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEX;AAAR,KAAD,CAAR;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,UAAMN,QAAQ,GAAG,MAAMb,KAAK,CAACwB,GAAN,CAAW,gBAAeG,SAAU,EAApC,CAAvB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEAR,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAS,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAEL,WADE;AAERQ,MAAAA,OAAO,EAAEF,QAAQ,CAACG;AAFV,KAAD,CAAR;AAIA,GAXD,CAWE,OAAOK,GAAP,EAAY;AACbH,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCE,GAAG,CAACC,OAA3C;AACAX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAS,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAET,kBADE;AAER;AACAY,MAAAA,OAAO,EAAEM,GAAG,CAACC;AAHL,KAAD,CAAR;AAOA;AACD,CAvBM;AAyBP,OAAO,MAAMM,aAAa,GAAGD,SAAS,IAAI,MAAMhB,QAAN,IAAkB;AAC3D,MAAI;AACHA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEX;AAAR,KAAD,CAAR;AACA,UAAMY,QAAQ,GAAG,MAAMb,KAAK,CAAC6B,MAAN,CAAc,gBAAeF,SAAU,EAAvC,CAAvB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACG,IAArB;AACAL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAS,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAEJ,cADE;AAERO,MAAAA,OAAO,EAAEF,QAAQ,CAACG;AAFV,KAAD,CAAR;AAIA,GATD,CASE,OAAOK,GAAP,EAAY;AACbH,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,GAAzC;AACAV,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAS,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAET,kBADE;AAERY,MAAAA,OAAO,EAAEM,GAAG,CAACR,QAAJ,CAAaG,IAAb,CAAkBc;AAFnB,KAAD,CAAR;AAIA;AACD,CAlBM;AAqBP,OAAO,MAAMC,WAAW,GAAGJ,SAAS,IAAI,MAAMhB,QAAN,IAAkB;AACzD,MAAI;AACHA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEX;AAAR,KAAD,CAAR;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAR,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAS,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAEJ,cADE;AAERO,MAAAA,OAAO,EAAEF,QAAQ,CAACG;AAFV,KAAD,CAAR;AAIA,GARD,CAQE,OAAOK,GAAP,EAAY;AACbH,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,GAAzC;AACAV,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACAS,IAAAA,QAAQ,CAAC;AACRC,MAAAA,IAAI,EAAET,kBADE;AAERY,MAAAA,OAAO,EAAEM,GAAG,CAACR,QAAJ,CAAaG,IAAb,CAAkBc;AAFnB,KAAD,CAAR;AAIA;AACD,CAjBM","sourcesContent":["import axios from 'axios';\r\nimport { START_LOADING, STOP_LOADING } from '../constants/loadingConstants';\r\nimport {\r\n\tSHOW_ERROR_MESSAGE,\r\n\tSHOW_SUCCESS_MESSAGE,\r\n} from '../constants/messageConstants';\r\nimport {\r\n\tCREATE_PRODUCT,\r\n\tGET_PRODUCTS,\r\n\tGET_PRODUCT,\r\n\tDELETE_PRODUCT,\r\n} from '../constants/productConstants';\r\n\r\nexport const createProduct = formData => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: START_LOADING });\r\n\t\tconst response = await axios.post('/api/product', formData);\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\tdispatch({\r\n\t\t\ttype: SHOW_SUCCESS_MESSAGE,\r\n\t\t\tpayload: response.data.successMessage,\r\n\t\t});\r\n\t\tconsole.log(response.data.product);\r\n\t\tdispatch({\r\n\t\t\ttype: CREATE_PRODUCT,\r\n\t\t\tpayload: response.data.product,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\terr && \r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SHOW_ERROR_MESSAGE,\r\n\t\t\t\tpayload: err.message,\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\nexport const getProducts = () => async dispatch => {\r\n\tconsole.log(\"In GET PRODUCTSS\t\")\t\r\n\ttry {\r\n\t\tdispatch({ type: START_LOADING });\r\n\t\tconst response = await axios.get('/api/product');\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\tdispatch({\r\n\t\t\ttype: GET_PRODUCTS,\r\n\t\t\tpayload: response.data.products,\r\n\t\t});\r\n\r\n\t} catch (err) {\r\n\t\t \r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\t// err && \r\n\t\t// \tdispatch({\r\n\t\t// \t\ttype: SHOW_ERROR_MESSAGE,\r\n\t\t// \t\tpayload: err.response.data.errorMessage,\r\n\t\t// \t});\r\n\t}\r\n};\r\n\r\nexport const getProduct = productId => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: START_LOADING });\r\n\t\tconsole.log(\"Before REq\")\r\n\t\tconst response = await axios.get(`/api/product/${productId}`);\r\n\t\tconsole.log(\"After REq\")\r\n\t\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\tdispatch({\r\n\t\t\ttype: GET_PRODUCT,\r\n\t\t\tpayload: response.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tconsole.log('getProducts api error: ', err.message);\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\tdispatch({\r\n\t\t\ttype: SHOW_ERROR_MESSAGE,\r\n\t\t\t// payload: err.response.data.errorMessage,\r\n\t\t\tpayload: err.message,\r\n\r\n\t\t});\r\n\r\n\t}\r\n};\r\n\r\nexport const deleteProduct = productId => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: START_LOADING });\r\n\t\tconst response = await axios.delete(`/api/product/${productId}`);\r\n\t\tconsole.log(response.data);\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\tdispatch({\r\n\t\t\ttype: DELETE_PRODUCT,\r\n\t\t\tpayload: response.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tconsole.log('deleteProduct api error: ', err);\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\tdispatch({\r\n\t\t\ttype: SHOW_ERROR_MESSAGE,\r\n\t\t\tpayload: err.response.data.errorMessage,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n\r\nexport const editProduct = productId => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: START_LOADING });\r\n\t\tconsole.log(\"EDIT BEFORE\")\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\tdispatch({\r\n\t\t\ttype: DELETE_PRODUCT,\r\n\t\t\tpayload: response.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tconsole.log('deleteProduct api error: ', err);\r\n\t\tdispatch({ type: STOP_LOADING });\r\n\t\tdispatch({\r\n\t\t\ttype: SHOW_ERROR_MESSAGE,\r\n\t\t\tpayload: err.response.data.errorMessage,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}